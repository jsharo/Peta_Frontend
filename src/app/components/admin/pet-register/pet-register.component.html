<div class="mascota-wrapper">
  <header class="header-blue">
    <img src="/PETA-logo1.svg" alt="Logo" class="logo" />
  </header>

  <h2>Registrar Mascota</h2>

  <form (ngSubmit)="registrarMascota()" #form="ngForm" class="mascota-formulario" novalidate>
    <label class="form-label">
      Nombre
      <input
        type="text"
        name="nombre"
        [(ngModel)]="mascota.nombre"
        #nombre="ngModel"
        required
      />
      <div class="error" *ngIf="nombre.invalid && nombre.touched">El nombre es obligatorio</div>
    </label>

    <label class="form-label">
      Edad
      <input
        type="number"
        name="edad"
        [(ngModel)]="mascota.edad"
        #edad="ngModel"
        required
      />
      <div class="error" *ngIf="edad.invalid && edad.touched">La edad es obligatoria</div>
    </label>

    <label class="form-label">
      Raza
      <input
        type="text"
        name="raza"
        [(ngModel)]="mascota.raza"
        #raza="ngModel"
        required
      />
      <div class="error" *ngIf="raza.invalid && raza.touched">La raza es obligatoria</div>
    </label>

    <label class="form-label">
      Sexo
      <select
        name="sexo"
        [(ngModel)]="mascota.sexo"
        #sexo="ngModel"
        required
      >
        <option value="" disabled selected>Selecciona sexo</option>
        <option value="Macho">Macho</option>
        <option value="Hembra">Hembra</option>
        <option value="Otro">Otro</option>
      </select>
      <div class="error" *ngIf="sexo.invalid && sexo.touched">El sexo es obligatorio</div>
    </label>

    <label class="form-label">
      Código del collar
      <input
        type="text"
        name="codigoCollar"
        [(ngModel)]="mascota.codigoCollar"
        #codigoCollar="ngModel"
        required
      />
      <div class="error" *ngIf="codigoCollar.invalid && codigoCollar.touched">El código del collar es obligatorio</div>
    </label>

    <label class="form-label">
      Foto de la mascota
      <input
        type="file"
        accept="image/*"
        (change)="onFileChange($event)"
        required
      />
      <div class="error" *ngIf="errorFoto">{{ errorFoto }}</div>
    </label>

    <div *ngIf="fotoPreview" style="text-align:center;">
      <img
        [src]="fotoPreview"
        alt="Preview mascota"
        style="max-width:150px; border-radius: 12px; margin-top:10px;"
      />
    </div>

    <button
      type="submit"
      class="btn-registrar"
      [disabled]="form.invalid"
    >
      Registrar
    </button>
  </form>
</div>
