<div class="page-container">  
  <!-- Header -->
  <div class="header">
    <img src="/PETA-logo1.svg" alt="Logo" class="logo" />
    <button class="logout-btn" (click)="logout()">Cerrar Sesión</button>
  </div>

  <!-- Título -->
  <h1 class="title">Mascotas</h1>

  <!-- Contador de mascotas -->
  <p class="count">Total Mascotas: {{ mascotas.length }}</p>

  <!-- Lista de mascotas -->
  <div class="mascotas-list">
    <div *ngFor="let mascota of mascotas; trackBy: trackByMascota" class="mascota-card">
      <span class="nombre">{{ mascota.nombre }}</span>
      <button class="ver-btn" (click)="abrirModalEditar(mascota)">Ver</button>
    </div>
  </div>
  
  <app-pet-tips></app-pet-tips>

  <!-- Mensaje cuando no hay mascotas -->
  <div *ngIf="mascotas.length === 0" class="no-pets-message">
    <p>No se encontraron mascotas para este usuario</p>
  </div>
</div>

<!-- Modal -->
<div class="modal-backdrop" *ngIf="modalAbierto" (click)="cerrarModal()">
  <div class="modal" (click)="$event.stopPropagation()">
    <h2>Información de Mascota</h2>
    <form (ngSubmit)="guardarCambios()" class="modal-form">
      <div class="input-group">
        <label for="nombre">Nombre:</label>
        <input id="nombre" type="text" [(ngModel)]="mascotaEdit.nombre" name="nombre" required />
      </div>

      <div class="input-group">
        <label for="edad">Edad:</label>
        <input id="edad" type="number" [(ngModel)]="mascotaEdit.edad" name="edad" min="0" required />
      </div>

      <div class="input-group">
        <label for="raza">Raza:</label>
        <input id="raza" type="text" [(ngModel)]="mascotaEdit.raza" name="raza" />
      </div>

      <div class="input-group">
        <label for="especie">Especie:</label>
        <input id="especie" type="text" [(ngModel)]="mascotaEdit.especie" name="especie" />
      </div>
      
      <!-- Nuevo campo código del collar -->
      <div class="input-group">
        <label for="codigo">Código del collar:</label>
        <input id="codigo" type="text" [(ngModel)]="mascotaEdit.codigo" name="codigo" />
      </div>

      <div class="modal-buttons">
        <button type="submit" class="btn-guardar">Guardar</button>
        <button type="button" class="btn-cancelar" (click)="cerrarModal()">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<app-navbar [activeTab]="'mascotas'"></app-navbar>
